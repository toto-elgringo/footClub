{% extends 'layouts/base.twig' %}

{% block title %}Update membre du staff - Foot Club{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="../css/staff.css">
{% endblock %}

{% block content %}
    <div class="container update-container">
        <div class="header">
            <div class="page-title">
                <div>
                    <h1>Update membre du staff {{ staffMember.getFirstname() }} {{ staffMember.getLastname() }}</h1>
                    <p>Mettez à jour les informations du membre du staff</p>
                </div>
            </div>
        </div>

        <form method="post" enctype="multipart/form-data" class="update-form-container">
            <input type="hidden" name="old_firstname" value="{{ staffMember.getFirstname() }}">
            <input type="hidden" name="old_lastname" value="{{ staffMember.getLastname() }}">

            <label for="prenom">Prénom</label>
            <input type="text" id="prenom" name="prenom" value="{{ staffMember.getFirstname() }}" required>

            <label for="nom">Nom</label>
            <input type="text" id="nom" name="nom" value="{{ staffMember.getLastname() }}" required>

            <label for="role">Rôle</label>
            <select id="role" name="role" required>
                <option value="" disabled>Sélectionner un rôle</option>
                <option value="Entraineur" {% if staffMember.getRole().value == 'Entraineur' %}selected{% endif %}>Entraîneur</option> 
                <option value="Préparateur" {% if staffMember.getRole().value == 'Préparateur' %}selected{% endif %}>Préparateur</option>
                <option value="Analyste" {% if staffMember.getRole().value == 'Analyste' %}selected{% endif %}>Analyste</option>
            </select>
            {# .value permet de récupérer la valeur de l'enum car ce n'est pas un string mais un enum qui est converti en string #}

            <label for="picture">Photo (laisser vide pour conserver l'actuelle)</label>
            <input type="file" id="picture" name="picture">

            <div class="current-photo">
                <img src="../uploads/{{ staffMember.getPicture() }}" alt="Photo actuelle">
            </div>

            <button type="submit" name="update_player" value="1">Enregistrer</button>
            <a href="staff.php" class="cancel">Annuler</a>
        </form>
    </div>
{% endblock %}
